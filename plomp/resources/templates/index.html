<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plomp Buffer Viewer</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();var W,b,me,T,ie,ye,ve,ge,Z,V,G,E={},be=[],Oe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function P(e,t){for(var n in t)e[n]=t[n];return e}function K(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ee(e,t,n){var i,l,r,a={};for(r in t)r=="key"?i=t[r]:r=="ref"?l=t[r]:a[r]=t[r];if(arguments.length>2&&(a.children=arguments.length>3?W.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)a[r]===void 0&&(a[r]=e.defaultProps[r]);return U(e,a,i,l,null)}function U(e,t,n,i,l){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++me,__i:-1,__u:0};return l==null&&b.vnode!=null&&b.vnode(r),r}function B(e){return e.children}function M(e,t){this.props=e,this.context=t}function x(e,t){if(t==null)return e.__?x(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?x(e):null}function Ne(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ne(e)}}function se(e){(!e.__d&&(e.__d=!0)&&T.push(e)&&!q.__r++||ie!==b.debounceRendering)&&((ie=b.debounceRendering)||ye)(q)}function q(){for(var e,t,n,i,l,r,a,c=1;T.length;)T.length>c&&T.sort(ve),e=T.shift(),c=T.length,e.__d&&(n=void 0,l=(i=(t=e).__v).__e,r=[],a=[],t.__P&&((n=P({},i)).__v=i.__v+1,b.vnode&&b.vnode(n),ee(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[l]:null,r,l??x(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,Ie(r,n,a),n.__e!=l&&Ne(n)));q.__r=0}function ke(e,t,n,i,l,r,a,c,_,d,v){var s,f,u,g,p,h,m=i&&i.__k||be,y=t.length;for(_=He(n,t,m,_,y),s=0;s<y;s++)(u=n.__k[s])!=null&&(f=u.__i===-1?E:m[u.__i]||E,u.__i=s,h=ee(e,u,f,l,r,a,c,_,d,v),g=u.__e,u.ref&&f.ref!=u.ref&&(f.ref&&te(f.ref,null,u),v.push(u.ref,u.__c||g,u)),p==null&&g!=null&&(p=g),4&u.__u||f.__k===u.__k?_=we(u,_,e):typeof u.type=="function"&&h!==void 0?_=h:g&&(_=g.nextSibling),u.__u&=-7);return n.__e=p,_}function He(e,t,n,i,l){var r,a,c,_,d,v=n.length,s=v,f=0;for(e.__k=new Array(l),r=0;r<l;r++)(a=t[r])!=null&&typeof a!="boolean"&&typeof a!="function"?(_=r+f,(a=e.__k[r]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?U(null,a,null,null,null):J(a)?U(B,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?U(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,c=null,(d=a.__i=De(a,n,_,s))!==-1&&(s--,(c=n[d])&&(c.__u|=2)),c==null||c.__v===null?(d==-1&&(l>v?f--:l<v&&f++),typeof a.type!="function"&&(a.__u|=4)):d!=_&&(d==_-1?f--:d==_+1?f++:(d>_?f--:f++,a.__u|=4))):e.__k[r]=null;if(s)for(r=0;r<v;r++)(c=n[r])!=null&&!(2&c.__u)&&(c.__e==i&&(i=x(c)),Ce(c,c));return i}function we(e,t,n){var i,l;if(typeof e.type=="function"){for(i=e.__k,l=0;i&&l<i.length;l++)i[l]&&(i[l].__=e,t=we(i[l],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=x(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function De(e,t,n,i){var l,r,a=e.key,c=e.type,_=t[n];if(_===null&&e.key==null||_&&a==_.key&&c===_.type&&!(2&_.__u))return n;if(i>(_!=null&&!(2&_.__u)?1:0))for(l=n-1,r=n+1;l>=0||r<t.length;){if(l>=0){if((_=t[l])&&!(2&_.__u)&&a==_.key&&c===_.type)return l;l--}if(r<t.length){if((_=t[r])&&!(2&_.__u)&&a==_.key&&c===_.type)return r;r++}}return-1}function le(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Oe.test(t)?n:n+"px"}function L(e,t,n,i,l){var r;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||le(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||le(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(ge,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i?n.t=i.t:(n.t=Z,e.addEventListener(t,r?G:V,r)):e.removeEventListener(t,r?G:V,r);else{if(l=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function oe(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.u==null)t.u=Z++;else if(t.u<n.t)return;return n(b.event?b.event(t):t)}}}function ee(e,t,n,i,l,r,a,c,_,d){var v,s,f,u,g,p,h,m,y,I,S,N,$,re,j,A,z,C=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(_=!!(32&n.__u),r=[c=t.__e=n.__e]),(v=b.__b)&&v(t);e:if(typeof C=="function")try{if(m=t.props,y="prototype"in C&&C.prototype.render,I=(v=C.contextType)&&i[v.__c],S=v?I?I.props.value:v.__:i,n.__c?h=(s=t.__c=n.__c).__=s.__E:(y?t.__c=s=new C(m,S):(t.__c=s=new M(m,S),s.constructor=C,s.render=Le),I&&I.sub(s),s.props=m,s.state||(s.state={}),s.context=S,s.__n=i,f=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&C.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=P({},s.__s)),P(s.__s,C.getDerivedStateFromProps(m,s.__s))),u=s.props,g=s.state,s.__v=t,f)y&&C.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&C.getDerivedStateFromProps==null&&m!==u&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(m,S),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(m,s.__s,S)===!1||t.__v==n.__v)){for(t.__v!=n.__v&&(s.props=m,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(O){O&&(O.__=t)}),N=0;N<s._sb.length;N++)s.__h.push(s._sb[N]);s._sb=[],s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(m,s.__s,S),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(u,g,p)})}if(s.context=S,s.props=m,s.__P=e,s.__e=!1,$=b.__r,re=0,y){for(s.state=s.__s,s.__d=!1,$&&$(t),v=s.render(s.props,s.state,s.context),j=0;j<s._sb.length;j++)s.__h.push(s._sb[j]);s._sb=[]}else do s.__d=!1,$&&$(t),v=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++re<25);s.state=s.__s,s.getChildContext!=null&&(i=P(P({},i),s.getChildContext())),y&&!f&&s.getSnapshotBeforeUpdate!=null&&(p=s.getSnapshotBeforeUpdate(u,g)),A=v,v!=null&&v.type===B&&v.key==null&&(A=Se(v.props.children)),c=ke(e,J(A)?A:[A],t,n,i,l,r,a,c,_,d),s.base=t.__e,t.__u&=-161,s.__h.length&&a.push(s),h&&(s.__E=s.__=null)}catch(O){if(t.__v=null,_||r!=null)if(O.then){for(t.__u|=_?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;r[r.indexOf(c)]=null,t.__e=c}else for(z=r.length;z--;)K(r[z]);else t.__e=n.__e,t.__k=n.__k;b.__e(O,t,n)}else r==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=je(n.__e,t,n,i,l,r,a,_,d);return(v=b.diffed)&&v(t),128&t.__u?void 0:c}function Ie(e,t,n){for(var i=0;i<n.length;i++)te(n[i],n[++i],n[++i]);b.__c&&b.__c(t,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(r){r.call(l)})}catch(r){b.__e(r,l.__v)}})}function Se(e){return typeof e!="object"||e==null?e:J(e)?e.map(Se):P({},e)}function je(e,t,n,i,l,r,a,c,_){var d,v,s,f,u,g,p,h=n.props,m=t.props,y=t.type;if(y=="svg"?l="http://www.w3.org/2000/svg":y=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),r!=null){for(d=0;d<r.length;d++)if((u=r[d])&&"setAttribute"in u==!!y&&(y?u.localName==y:u.nodeType==3)){e=u,r[d]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(l,y,m.is&&m),c&&(b.__m&&b.__m(t,r),c=!1),r=null}if(y===null)h===m||c&&e.data===m||(e.data=m);else{if(r=r&&W.call(e.childNodes),h=n.props||E,!c&&r!=null)for(h={},d=0;d<e.attributes.length;d++)h[(u=e.attributes[d]).name]=u.value;for(d in h)if(u=h[d],d!="children"){if(d=="dangerouslySetInnerHTML")s=u;else if(!(d in m)){if(d=="value"&&"defaultValue"in m||d=="checked"&&"defaultChecked"in m)continue;L(e,d,null,u,l)}}for(d in m)u=m[d],d=="children"?f=u:d=="dangerouslySetInnerHTML"?v=u:d=="value"?g=u:d=="checked"?p=u:c&&typeof u!="function"||h[d]===u||L(e,d,u,h[d],l);if(v)c||s&&(v.__html===s.__html||v.__html===e.innerHTML)||(e.innerHTML=v.__html),t.__k=[];else if(s&&(e.innerHTML=""),ke(t.type==="template"?e.content:e,J(f)?f:[f],t,n,i,y=="foreignObject"?"http://www.w3.org/1999/xhtml":l,r,a,r?r[0]:n.__k&&x(n,0),c,_),r!=null)for(d=r.length;d--;)K(r[d]);c||(d="value",y=="progress"&&g==null?e.removeAttribute("value"):g!==void 0&&(g!==e[d]||y=="progress"&&!g||y=="option"&&g!==h[d])&&L(e,d,g,h[d],l),d="checked",p!==void 0&&p!==e[d]&&L(e,d,p,h[d],l))}return e}function te(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(l){b.__e(l,n)}}function Ce(e,t,n){var i,l;if(b.unmount&&b.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||te(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){b.__e(r,t)}i.base=i.__P=null}if(i=e.__k)for(l=0;l<i.length;l++)i[l]&&Ce(i[l],t,n||typeof e.type!="function");n||K(e.__e),e.__c=e.__=e.__e=void 0}function Le(e,t,n){return this.constructor(e,n)}function Ue(e,t,n){var i,l,r,a;t==document&&(t=document.documentElement),b.__&&b.__(e,t),l=(i=!1)?null:t.__k,r=[],a=[],ee(t,e=t.__k=Ee(B,null,[e]),l||E,E,t.namespaceURI,l?null:t.firstChild?W.call(t.childNodes):null,r,l?l.__e:t.firstChild,i,a),Ie(r,e,a)}W=be.slice,b={__e:function(e,t,n,i){for(var l,r,a;t=t.__;)if((l=t.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(e)),a=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,i||{}),a=l.__d),a)return l.__E=l}catch(c){e=c}throw e}},me=0,M.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof e=="function"&&(e=e(P({},n),this.props)),e&&P(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),se(this))},M.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),se(this))},M.prototype.render=B,T=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0,ge=/(PointerCapture)$|Capture$/i,Z=0,V=oe(!1),G=oe(!0);var Me=0;function o(e,t,n,i,l,r){t||(t={});var a,c,_=t;if("ref"in _)for(c in _={},t)c=="ref"?a=t[c]:_[c]=t[c];var d={type:e,props:_,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Me,__i:-1,__u:0,__source:l,__self:r};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)_[c]===void 0&&(_[c]=a[c]);return b.vnode&&b.vnode(d),d}var H,k,Q,ae,D=0,Pe=[],w=b,ce=w.__b,_e=w.__r,de=w.diffed,ue=w.__c,pe=w.unmount,fe=w.__;function ne(e,t){w.__h&&w.__h(k,e,D||t),D=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function R(e){return D=1,Fe(Ae,e)}function Fe(e,t,n){var i=ne(H++,2);if(i.t=e,!i.__c&&(i.__=[Ae(void 0,t),function(c){var _=i.__N?i.__N[0]:i.__[0],d=i.t(_,c);_!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=k,!k.__f)){var l=function(c,_,d){if(!i.__c.__H)return!0;var v=i.__c.__H.__.filter(function(f){return!!f.__c});if(v.every(function(f){return!f.__N}))return!r||r.call(this,c,_,d);var s=i.__c.props!==c;return v.forEach(function(f){if(f.__N){var u=f.__[0];f.__=f.__N,f.__N=void 0,u!==f.__[0]&&(s=!0)}}),r&&r.call(this,c,_,d)||s};k.__f=!0;var r=k.shouldComponentUpdate,a=k.componentWillUpdate;k.componentWillUpdate=function(c,_,d){if(this.__e){var v=r;r=void 0,l(c,_,d),r=v}a&&a.call(this,c,_,d)},k.shouldComponentUpdate=l}return i.__N||i.__}function X(e,t){var n=ne(H++,3);!w.__s&&$e(n.__H,t)&&(n.__=e,n.u=t,k.__H.__h.push(n))}function Te(e){return D=5,xe(function(){return{current:e}},[])}function xe(e,t){var n=ne(H++,7);return $e(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function qe(e,t){return D=8,xe(function(){return e},t)}function Re(){for(var e;e=Pe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(F),e.__H.__h.forEach(Y),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){k=null,ce&&ce(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),fe&&fe(e,t)},w.__r=function(e){_e&&_e(e),H=0;var t=(k=e.__c).__H;t&&(Q===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(F),t.__h.forEach(Y),t.__h=[],H=0)),Q=k},w.diffed=function(e){de&&de(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Pe.push(t)!==1&&ae===w.requestAnimationFrame||((ae=w.requestAnimationFrame)||We)(Re)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Q=k=null},w.__c=function(e,t){t.some(function(n){try{n.__h.forEach(F),n.__h=n.__h.filter(function(i){return!i.__||Y(i)})}catch(i){t.some(function(l){l.__h&&(l.__h=[])}),t=[],w.__e(i,n.__v)}}),ue&&ue(e,t)},w.unmount=function(e){pe&&pe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{F(i)}catch(l){t=l}}),n.__H=void 0,t&&w.__e(t,n.__v))};var he=typeof requestAnimationFrame=="function";function We(e){var t,n=function(){clearTimeout(i),he&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);he&&(t=requestAnimationFrame(n))}function F(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function Y(e){var t=k;e.__c=e.__(),k=t}function $e(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function Ae(e,t){return typeof t=="function"?t(e):t}function Je({availableTags:e,selectedTypes:t,selectedTags:n,onToggleType:i,onToggleTag:l}){return o("header",{className:"app-header",children:o("div",{className:"filter-controls",children:[o("div",{className:"type-filters",children:[o("h3",{children:"Types:"}),o("div",{className:"filter-options",children:["event","query","prompt"].map(r=>o("label",{className:"filter-option",children:[o("input",{type:"checkbox",checked:t.has(r),onChange:()=>i(r)}),r]},r))})]}),o("div",{className:"tag-filters",children:Object.entries(e).map(([r,a])=>o("div",{className:"tag-filter-group",children:[o("h4",{children:[r,":"]}),o("div",{className:"filter-options",children:Array.from(a).map(c=>{var _;return o("label",{className:"filter-option",children:[o("input",{type:"checkbox",checked:((_=n[r])==null?void 0:_.has(c))||!1,onChange:()=>l(r,c)}),c]},`${r}-${c}`)})})]},r))})]})})}function Be({item:e,index:t,originalIndex:n,isSelected:i,isCurrent:l,isMatched:r,onSelect:a}){var s;const _=new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});let d="";if(e.type==="event"){const f=e.tags.event_type||"unknown",u=((s=e.data.payload)==null?void 0:s.context)||"";d=`${f}: ${u}`}else e.type==="query"?d=`query: ${e.data.op_name}`||"Query operation":e.type==="prompt"&&(d=`prompt: "${e.data.prompt||""}"`);d.length>80&&(d=d.substring(0,77)+"...");const v=e.type==="prompt"&&!e.data.response&&!e.data.completion&&!e.data.answer;return o("div",{className:`timeline-item ${e.type} ${i?"selected":""} ${l?"current":""} ${r?"matched":""} ${v?"incomplete":""}`,onClick:a,children:[o("div",{className:"item-header",children:[o("div",{className:"item-timestamp",children:_}),o("div",{className:"item-type",children:[e.type,v&&o("span",{className:"incomplete-indicator",children:"•"})]})]}),o("div",{className:"item-summary",children:d})]})}function ze(e,t){const n=i=>{if(i.key!=="ArrowUp"&&i.key!=="ArrowDown")return;const l=e();if(!l.length)return;const r=l.findIndex(c=>c.classList.contains("selected"));let a;i.key==="ArrowUp"?(a=r>0?r-1:0,r===-1&&(a=l.length-1)):(a=r<l.length-1?r+1:l.length-1,r===-1&&(a=0)),a!==r&&(i.preventDefault(),t(a),l[a].scrollIntoView({behavior:"smooth",block:"nearest"}))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}function Qe({items:e,originalIndices:t,selectedIndex:n,currentIndex:i,matchedIndices:l,onSelectItem:r}){const a=Te(null);return X(()=>ze(()=>a.current?Array.from(a.current.querySelectorAll(".timeline-item")):[],d=>{d>=0&&d<t.length&&r(d,t[d])}),[r,t]),X(()=>{if(n!==null&&a.current){const c=a.current.querySelectorAll(".timeline-item");c[n]&&c[n].scrollIntoView({behavior:"smooth",block:"nearest"})}},[n]),o("div",{className:"timeline-view",ref:a,children:o("div",{className:"timeline-items",children:e.map((c,_)=>o(Be,{item:c,index:_,originalIndex:t[_],isSelected:n===_,isCurrent:i===_,isMatched:l.includes(_),onSelect:()=>r(_,t[_])},_))})})}function Ve({item:e,allItems:t}){const[n,i]=R(!1);if(!e)return o("div",{className:"detail-sidebar",children:o("div",{className:"no-selection",children:"Select an item to view details"})});const l=new Date(e.timestamp),r=()=>Object.keys(e.tags).length===0?o("div",{className:"detail-empty",children:"No tags"}):o("div",{className:"detail-tags",children:Object.entries(e.tags).map(([s,f])=>o("div",{className:"detail-tag",children:[o("span",{className:"detail-tag-key",children:[s,":"]}),o("span",{className:"detail-tag-value",children:String(f)})]},s))}),a=s=>{var f;if(s.type==="event"){const u=s.tags.event_type||"unknown",g=((f=s.data.payload)==null?void 0:f.message)||"";return`${u}: ${g}`}else{if(s.type==="query")return s.data.op_name||"Query operation";if(s.type==="prompt"){const u=s.tags.model||"unknown",g=s.data.prompt||"";return`${u}: ${g}`}}return"Unknown item"},c=()=>{switch(e.type){case"event":return _();case"query":return d();case"prompt":return v();default:return o("div",{className:"detail-empty",children:"Unknown item type"})}},_=()=>{var g;const s=e.tags.event_type||"Unknown",f=((g=e.data.payload)==null?void 0:g.message)||"",u=e.data.metadata||{};return o("div",{className:"structured-content event-content",children:[o("div",{className:"content-section",children:[o("div",{className:"content-section-title",children:"Event Details"}),o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Event Type"}),o("span",{className:"content-item-value",children:s})]}),f&&o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Message"}),o("span",{className:"content-item-value",children:f})]})]}),Object.keys(u).length>0&&o("div",{className:"content-section",children:[o("div",{className:"content-section-title",children:"Metadata"}),Object.entries(u).map(([p,h])=>o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:p}),o("span",{className:"content-item-value",children:typeof h=="object"?JSON.stringify(h,null,2):String(h)})]},p))]})]})},d=()=>{const s=e.data.op_name||"Unknown Operation",f=e.data.matched_indices||[],u=e.data.parameters||{};return o("div",{className:"structured-content query-content",children:[o("div",{className:"content-section",children:[o("div",{className:"content-section-title",children:"Query Details"}),o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Operation"}),o("span",{className:"content-item-value",children:s})]}),f.length>0&&o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Matched Items"}),o("div",{className:"matched-items-list",children:f.map((g,p)=>{const h=t[g];if(!h)return null;const m=a(h),y=new Date(h.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return o("div",{className:"matched-item",children:[o("div",{className:"matched-item-header",children:[o("span",{className:"matched-item-type",children:h.type}),o("span",{className:"matched-item-time",children:y})]}),o("div",{className:"matched-item-summary",children:m})]},p)})})]})]}),Object.keys(u).length>0&&o("div",{className:"content-section",children:[o("div",{className:"content-section-title",children:"Parameters"}),Object.entries(u).map(([g,p])=>o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:g}),o("span",{className:"content-item-value",children:typeof p=="object"?JSON.stringify(p,null,2):String(p)})]},g))]})]})},v=()=>{var p;const s=e.data.prompt||"";let f="",u="";if(e.data.completion)typeof e.data.completion=="object"&&e.data.completion!==null?(f=e.data.completion.response||"",u=e.data.completion.completion_timestamp||""):f=String(e.data.completion);else if(e.data.response)f=e.data.response;else if(e.data.answer)f=e.data.answer;else if(e.data.content)f=e.data.content;else if(e.data.choices&&e.data.choices.length>0){const h=e.data.choices[0];f=h.text||((p=h.message)==null?void 0:p.content)||h.content||""}const g=f!=="";return o("div",{className:"structured-content prompt-content",children:o("div",{className:"content-section",children:[o("div",{className:"content-section-title",children:["Prompt Details",!g&&o("span",{className:"prompt-status incomplete",children:"Incomplete"}),g&&o("span",{className:"prompt-status complete",children:"Complete"})]}),s&&o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Prompt"}),o("span",{className:"content-item-value prompt-text",style:{whiteSpace:"pre-wrap"},children:s})]}),g?o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Completion"}),o("pre",{className:"content-item-value completion-text",children:f})]}):o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Completion"}),o("span",{className:"content-item-value completion-missing",children:"No completion available - the model may still be processing or an error occurred."})]}),u&&o("div",{className:"content-item",children:[o("span",{className:"content-item-label",children:"Completion Time"}),o("span",{className:"content-item-value",children:new Date(u).toLocaleString()})]})]})})};return o("div",{className:"detail-sidebar",children:o("div",{className:"item-details",children:[o("h2",{children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," Details"]}),o("div",{className:"detail-section",children:[o("h3",{children:"Basic Information"}),o("div",{className:"detail-row",children:[o("span",{className:"detail-label",children:"Timestamp:"}),o("span",{className:"detail-value",children:l.toLocaleString()})]})]}),o("div",{className:"detail-section",children:[o("h3",{children:"Tags"}),r()]}),o("div",{className:"detail-section",children:[o("h3",{children:"Content"}),c()]}),o("div",{className:"json-toggle",children:o("button",{className:"json-toggle-button",onClick:()=>i(!n),children:n?"Hide Raw JSON":"View Raw JSON"})}),n&&o("div",{className:"json-data-container",children:[o("h3",{children:"Raw JSON Data"}),o("pre",{className:"json-data",children:JSON.stringify(e.data,(s,f)=>{try{return typeof f=="object"&&f!==null&&Object.keys(f).length>100?`[Complex Object with ${Object.keys(f).length} keys]`:f}catch{return"[Error displaying value]"}},2)})]})]})})}class Ge{constructor(t){this.playing=!1,this.intervalId=null,this.speed=t.speed,this.onAdvance=t.onAdvance,this.getItemCount=t.getItemCount,this.getCurrentIndex=t.getCurrentIndex,typeof this.onAdvance!="function"&&(console.error("PlaybackController: onAdvance is not a function",this.onAdvance),this.onAdvance=null),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.toggle=this.toggle.bind(this),this.reset=this.reset.bind(this),this.setSpeed=this.setSpeed.bind(this),this.dispose=this.dispose.bind(this)}start(){if(this.playing||!this.onAdvance)return;this.playing=!0;const t=1e3/this.speed;this.intervalId=window.setInterval(()=>{try{const n=this.getCurrentIndex(),i=this.getItemCount();if(typeof n!="number"||isNaN(n)){console.error("PlaybackController: getCurrentIndex returned invalid value:",n),this.stop();return}if(typeof i!="number"||isNaN(i)||i<=0){console.error("PlaybackController: getItemCount returned invalid value:",i),this.stop();return}if(n>=i-1){this.stop();return}const l=Math.min(n+1,i-1);typeof this.onAdvance=="function"?this.onAdvance(l):(console.error("PlaybackController: onAdvance is not a function"),this.stop())}catch(n){console.error("Error in PlaybackController interval:",n),this.stop()}},t)}stop(){this.playing&&(this.playing=!1,this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null))}toggle(){this.playing?this.stop():this.start()}isPlaying(){return this.playing}setSpeed(t){this.speed=t,this.playing&&(this.stop(),this.start())}reset(){if(this.stop(),this.onAdvance)try{this.onAdvance(0)}catch(t){console.error("Error in PlaybackController.reset:",t)}else console.error("Cannot reset: onAdvance callback is missing")}dispose(){this.stop(),this.onAdvance=null}}function Xe({isPlaying:e=!1,onPlayPause:t,onStepForward:n,onStepBackward:i,canStepForward:l=!0,canStepBackward:r=!0,itemCount:a=0,currentIndex:c=0,onChangeIndex:_}){const[d,v]=R(!1),[s,f]=R(1),u=Te(null),g=t?e:d,p=qe(N=>{if(typeof N!="number"||isNaN(N)){console.error("Invalid index received:",N);return}console.log("Advancing to valid index:",N),typeof _=="function"?_(N):N>c&&typeof n=="function"?n():N<c&&typeof i=="function"?i():console.warn("No valid callback function for index change")},[_,n,i,c]);X(()=>{u.current&&u.current.dispose();const N=new Ge({speed:s,onAdvance:p,getItemCount:()=>typeof a=="number"?a:0,getCurrentIndex:()=>typeof c=="number"?c:0});return u.current=N,g&&N.start(),()=>{N.dispose()}},[p,a,c,s,g]);const h=()=>{typeof t=="function"?t():u.current&&(u.current.toggle(),v(u.current.isPlaying()))},m=()=>{if(u.current&&u.current.stop(),typeof t=="function"&&g?t():v(!1),typeof _=="function")_(0);else if(typeof i=="function"&&c>0)for(let N=0;N<c;N++)i()},y=()=>{typeof n=="function"?n():typeof _=="function"&&c<a-1&&_(c+1)},I=()=>{typeof i=="function"?i():typeof _=="function"&&c>0&&_(c-1)},S=N=>{f(N)};return o("div",{className:"playback-controls",children:[o("button",{className:"control-button",onClick:m,title:"Reset to beginning",children:"⏮️"}),o("button",{className:"control-button",onClick:I,disabled:!r,title:"Previous item",children:"⏪"}),o("button",{className:"control-button play-pause",onClick:h,title:g?"Pause":"Play",children:g?"⏸️ Pause":"▶️ Play"}),o("button",{className:"control-button",onClick:y,disabled:!l,title:"Next item",children:"⏩"}),o("div",{className:"speed-control",children:[o("span",{children:"Speed:"}),o("select",{value:s,onChange:N=>S(Number(N.target.value)),children:[o("option",{value:"0.5",children:"0.5×"}),o("option",{value:"1",children:"1×"}),o("option",{value:"2",children:"2×"}),o("option",{value:"4",children:"4×"})]})]}),o("div",{className:"playback-progress",children:[c+1," / ",a]})]})}function Ye(){var g;const[e,t]=R({items:((g=window.__PLOMP_BUFFER_JSON__)==null?void 0:g.buffer_items)||[],selectedItemIndex:null,matchedIndices:[],filters:{types:new Set(["event","query","prompt"]),tags:{}},playback:{isPlaying:!1,speed:1,currentIndex:0}}),n=(p,h)=>{const m=e.items[h];let y=[];m&&m.type==="query"&&m.data&&m.data.matched_indices&&(y=Array.isArray(m.data.matched_indices)?m.data.matched_indices:[]),t(I=>({...I,selectedItemIndex:h,matchedIndices:y,playback:{...I.playback,currentIndex:p}}))},i=e.items.map((p,h)=>({item:p,originalIndex:h})).filter(({item:p})=>{if(!e.filters.types.has(p.type))return!1;for(const[h,m]of Object.entries(e.filters.tags)){if(m.size===0)continue;if(!p.tags[h])return!1;const y=p.tags[h],I=Array.from(m);if(Array.isArray(y)){if(!y.some(S=>I.includes(S)))return!1}else if(!I.includes(y))return!1}return!0}),l=i.map(({item:p})=>p),r=i.map(({originalIndex:p})=>p),a=r.findIndex(p=>p===e.selectedItemIndex),c=p=>{t(h=>{const m=new Set(h.filters.types);return m.has(p)?m.delete(p):m.add(p),{...h,filters:{...h.filters,types:m}}})},_=(p,h)=>{t(m=>{const y={...m.filters.tags};if(!y[p])y[p]=new Set([h]);else{const I=new Set(y[p]);I.has(h)?I.delete(h):I.add(h),y[p]=I}return{...m,filters:{...m.filters,tags:y}}})},d=()=>{t(p=>({...p,playback:{...p.playback,isPlaying:!p.playback.isPlaying}}))},v=()=>{if(e.playback.currentIndex<l.length-1){const p=e.playback.currentIndex+1,h=r[p];t(m=>({...m,selectedItemIndex:h,playback:{...m.playback,currentIndex:p}}))}},s=()=>{if(e.playback.currentIndex>0){const p=e.playback.currentIndex-1,h=r[p];t(m=>({...m,selectedItemIndex:h,playback:{...m.playback,currentIndex:p}}))}},f=p=>{const h=r[p];t(m=>({...m,selectedItemIndex:h,playback:{...m.playback,currentIndex:p}}))},u={};return e.items.forEach(p=>{Object.entries(p.tags).forEach(([h,m])=>{u[h]||(u[h]=new Set),Array.isArray(m)?m.forEach(y=>u[h].add(y)):u[h].add(m)})}),o("div",{className:"app-container",children:[o(Je,{availableTags:u,selectedTypes:e.filters.types,selectedTags:e.filters.tags,onToggleType:c,onToggleTag:_}),o("div",{className:"main-content",children:[o(Xe,{isPlaying:e.playback.isPlaying,onPlayPause:d,onStepForward:v,onStepBackward:s,canStepForward:e.playback.currentIndex<l.length-1,canStepBackward:e.playback.currentIndex>0,itemCount:l.length,currentIndex:e.playback.currentIndex,onChangeIndex:f}),o("div",{className:"content-area",children:[o(Qe,{items:l,originalIndices:r,selectedIndex:a!==-1?a:null,currentIndex:e.playback.currentIndex,matchedIndices:e.matchedIndices.map(p=>r.findIndex(h=>h===p)).filter(p=>p!==-1),onSelectItem:n}),o(Ve,{item:e.selectedItemIndex!==null?e.items[e.selectedItemIndex]:null,allItems:e.items})]})]})]})}Ue(o(Ye,{}),document.getElementById("app"));
//# sourceMappingURL=index-moN83dV_.js.map</script>
    <style rel="stylesheet" crossorigin>:root{--color-bg: #f9f8f5;--color-text: #333333;--color-text-light: #666666;--color-primary: #5677b9;--color-secondary: #5d9178;--color-event: #b79ecf;--color-query: #d99c94;--color-prompt: #e3c087;--color-border: #e0ddd4;--color-sidebar-bg: #fdfcfa;--color-matched: #a6c18e;--border-radius: 3px;--font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;--font-mono: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 2px 4px rgba(0, 0, 0, .08)}body,html{margin:0;padding:0;font-family:var(--font-sans);background-color:var(--color-bg);color:var(--color-text);line-height:1.5;overflow-x:hidden}.app-container{display:flex;flex-direction:column;height:100vh;max-width:1600px;margin:0 auto}.app-header{padding:.5rem .75rem;background-color:#fff;border-bottom:1px solid var(--color-border);display:flex;align-items:center;box-shadow:var(--shadow-sm)}.app-header h1{margin:0;font-size:1.1rem;flex:0 0 auto;margin-right:1.5rem;font-weight:600;letter-spacing:-.01em}.filter-controls{display:flex;flex-wrap:wrap;gap:.5rem;flex:1}.type-filters,.tag-filters{display:flex;align-items:center;gap:.5rem;min-width:0}.filter-controls h3{margin:0;font-size:.8rem;white-space:nowrap;font-weight:600;color:var(--color-text)}.filter-controls h4{margin:0;font-size:.75rem;display:inline-block;margin-right:.5rem;font-weight:600;color:var(--color-text-light)}.filter-options{display:flex;flex-wrap:wrap;gap:.25rem}.filter-option{display:flex;align-items:center;gap:.2rem;background-color:#f5f4f0;padding:.1rem .4rem;border-radius:var(--border-radius);font-size:.75rem;color:var(--color-text);border:1px solid var(--color-border);transition:all .2s ease}.filter-option:hover{background-color:#edece8;border-color:#d0cec5}.tag-filter-group{display:flex;align-items:center;margin-bottom:0;margin-right:.75rem}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden}.content-area{display:flex;flex:1;overflow:hidden}.playback-controls{display:flex;justify-content:center;align-items:center;padding:.6rem;background-color:#fff;border-bottom:1px solid var(--color-border);gap:.6rem}.control-button{padding:.3rem .6rem;border:1px solid var(--color-border);background-color:#fff;border-radius:var(--border-radius);cursor:pointer;font-size:.85rem;min-width:2.2rem;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.control-button:hover:not(:disabled){background-color:var(--color-bg);border-color:#d0cec5}.control-button:disabled{opacity:.5;cursor:not-allowed}.control-button.play-pause{width:7rem;font-weight:600;display:flex;justify-content:center;gap:.3rem}.speed-control{display:flex;align-items:center;gap:.3rem;font-size:.85rem}.speed-control select{padding:.2rem .3rem;border:1px solid var(--color-border);border-radius:var(--border-radius);background-color:#fff;font-size:.85rem;cursor:pointer}.playback-progress{font-size:.85rem;color:var(--color-text-light);margin-left:.6rem;padding:.25rem .5rem;background-color:var(--color-bg);border-radius:var(--border-radius);font-variant-numeric:tabular-nums}.timeline-view{flex:2;overflow-y:auto;padding:.1rem;font-size:.75rem;background-color:var(--color-bg)}.timeline-items{display:flex;flex-direction:column;gap:.25rem}.timeline-item{border-radius:var(--border-radius);border-left:6px solid gray;padding:.2rem .4rem;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;box-shadow:var(--shadow-sm);background-color:#fff;margin-bottom:1px}.timeline-item:hover{box-shadow:var(--shadow-md);transform:translateY(-1px)}.timeline-item.event{border-left-color:var(--color-event);background-color:var(--color-sidebar-bg)}.timeline-item.query{border-left-color:var(--color-query);background-color:var(--color-sidebar-bg)}.timeline-item.prompt{border-left-color:var(--color-prompt);background-color:var(--color-sidebar-bg)}.timeline-item.selected{box-shadow:0 0 0 2px var(--color-primary)}.timeline-item.current{background-color:#e9f1eb}.timeline-item.matched{border-left-color:var(--color-bg);box-shadow:0 0 0 2px var(--color-matched);border-left-width:12px;background-color:var(--color-matched);position:relative}.timeline-item.matched:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;border-radius:var(--border-radius)}.item-header{display:flex;justify-content:space-between;margin-bottom:.1rem;align-items:center}.item-timestamp{font-size:.65rem;color:var(--color-text-light);font-variant-numeric:tabular-nums}.item-type{font-size:.65rem;font-weight:600;padding:.05rem .2rem;border-radius:2px}.event .item-type{color:var(--color-event)}.query .item-type{color:var(--color-query)}.prompt .item-type{color:var(--color-prompt)}.item-summary{font-size:.75rem;margin-bottom:.1rem;line-height:1.2;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--color-text)}.item-tags{display:flex;flex-wrap:wrap;gap:.15rem}.tag{font-size:.65rem;padding:.05rem .15rem;background-color:#f5f4f0;border-radius:2px;color:var(--color-text-light);border:1px solid var(--color-border)}.detail-sidebar{flex:1;background-color:var(--color-sidebar-bg);border-left:1px solid var(--color-border);padding:1.25rem;overflow-y:auto}.matched-items-list{display:flex;flex-direction:column;gap:.6rem;margin-top:.6rem}.matched-item{background-color:var(--color-sidebar-bg);border-left:3px solid var(--color-matched);padding:.6rem;border-radius:var(--border-radius);font-size:.85rem;box-shadow:var(--shadow-sm)}.matched-item-header{display:flex;justify-content:space-between;margin-bottom:.3rem}.matched-item-type{font-weight:600;color:var(--color-text);background-color:var(--color-bg);padding:.1rem .3rem;border-radius:2px;font-size:.75rem}.matched-item-time{color:var(--color-text-light);font-size:.75rem;font-variant-numeric:tabular-nums}.matched-item-summary{font-size:.8rem;color:var(--color-text);line-height:1.4}.detail-tags{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.25rem}.detail-tag{background-color:var(--color-bg);border-radius:12px;padding:.3rem .7rem;font-size:.85rem;display:flex;align-items:center;border:1px solid var(--color-border)}.detail-tag-key{font-weight:600;margin-right:.4rem;color:var(--color-text)}.detail-tag-value{color:var(--color-text)}.structured-content,.content-section{margin-bottom:1.25rem}.content-section-title{font-size:.95rem;font-weight:600;margin-bottom:.6rem;color:var(--color-text);padding-bottom:.25rem;border-bottom:1px solid var(--color-border)}.content-item{margin-bottom:.6rem;line-height:1.5}.content-item-label{font-weight:600;display:block;font-size:.85rem;color:var(--color-text-light);margin-bottom:.2rem}.content-item-value{font-size:.9rem;display:block;word-wrap:break-word}.json-toggle{display:flex;align-items:center;margin:1.25rem 0}.json-toggle-button{background-color:var(--color-bg);border:1px solid var(--color-border);padding:.4rem .9rem;border-radius:var(--border-radius);font-size:.85rem;cursor:pointer;display:flex;align-items:center;gap:.4rem;transition:all .2s ease}.json-toggle-button:hover{background-color:#edece8;border-color:#d0cec5}.event-content .content-item-value{background-color:#f7f4ff;padding:.6rem;border-radius:var(--border-radius);border-left:3px solid var(--color-event)}.query-content .content-item-value{background-color:#fff5f4;padding:.6rem;border-radius:var(--border-radius);border-left:3px solid var(--color-query)}.prompt-content .content-item-value{background-color:#fffaed;padding:.6rem;border-radius:var(--border-radius);border-left:3px solid var(--color-prompt)}.json-data-container{margin-top:1.25rem}.no-selection{display:flex;height:100%;align-items:center;justify-content:center;color:#999;font-size:.95rem}.item-details h2{margin-top:0;font-size:1.3rem;font-weight:600;margin-bottom:1rem;color:var(--color-text);text-wrap:balance}.detail-section{margin-bottom:1.75rem}.detail-section h3{margin:0 0 .6rem;font-size:1.05rem;padding-bottom:.35rem;border-bottom:1px solid var(--color-border);font-weight:600;color:var(--color-text)}.detail-row{display:flex;margin-bottom:.35rem}.detail-label{flex:0 0 120px;font-weight:600;font-size:.9rem;color:var(--color-text-light)}.detail-value{flex:1;font-size:.9rem}.detail-empty{font-style:italic;color:#888;font-size:.9rem}.json-data{background-color:#f6f6f3;padding:.6rem;border-radius:var(--border-radius);overflow:auto;font-size:.85rem;font-family:var(--font-mono);max-height:300px;color:#333;border:1px solid #e5e5e5;line-height:1.5}.completion-text{white-space:pre-wrap;word-break:break-word;max-height:300px;overflow-y:auto;background-color:#fffaed;border-radius:var(--border-radius);padding:.6rem;font-family:var(--font-mono);font-size:.9rem;line-height:1.5}.prompt-status{font-size:.75rem;padding:.2rem .5rem;margin-left:.6rem;border-radius:3px}.prompt-status.complete{background-color:var(--color-secondary);color:#fff}.prompt-status.incomplete{background-color:var(--color-query);color:#fff}.completion-missing{font-style:italic;color:#888}code{background:#f6f6f3;font-family:var(--font-mono);padding:2px 4px;border-radius:2px;border:1px solid #d8d6ce;font-size:.85em;margin:0 2px;-webkit-box-decoration-break:clone;box-decoration-break:clone}a{color:var(--color-primary);text-decoration:none;transition:all .2s ease}input,select,button{font-family:var(--font-sans)}input[type=text],input[type=search]{border:1px solid var(--color-border);border-radius:var(--border-radius);padding:.35rem .5rem;font-size:.85rem}input[type=text]:focus,input[type=search]:focus,select:focus,button:focus{outline:none;box-shadow:0 0 0 2px #5677b94d}.tooltip{position:absolute;background-color:#fff;border:1px solid #e0e0e0;border-radius:3px;padding:6px 8px;font-size:12px;pointer-events:none;max-width:300px;box-shadow:var(--shadow-md);z-index:1000;color:var(--color-text);line-height:1.4}body{margin:0;font-family:var( --font-sans, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif );background-color:var(--color-bg, #f9f8f5);color:var(--color-text, #333333);font-size:14px;line-height:1.5;overflow-x:hidden}#container{margin:0 auto;padding:12px;width:100%;max-width:1200px}.controls{display:flex;align-items:center;gap:8px;padding:8px 12px;border-bottom:1px solid var(--color-border, #e0ddd4);background-color:#fff;border-radius:3px 3px 0 0}.data-view{min-height:400px;border:1px solid var(--color-border, #e0ddd4);overflow:auto;padding:12px;position:relative;background-color:#fff;border-radius:0 0 3px 3px}#timeline-view{position:relative;max-height:600px;overflow-y:auto}.timeline-item{cursor:pointer;transition:transform .2s ease;margin-bottom:1px;line-height:1.2}.timeline-item:hover{transform:translateY(-1px)}.timeline-tooltip{position:absolute;background-color:#fff;border:1px solid var(--color-border, #e0ddd4);border-radius:3px;padding:8px 10px;font-size:12px;pointer-events:none;max-width:300px;box-shadow:0 2px 4px #00000014;display:none;color:var(--color-text, #333333);z-index:100}.timeline-tooltip pre{margin:6px 0;max-height:150px;overflow:auto;background-color:#f6f6f3;padding:6px;border-radius:3px;font-family:var(--font-mono, monospace);font-size:11px;border:1px solid #e5e5e5}.timeline-details{margin-top:12px;border:1px solid var(--color-border, #e0ddd4);padding:12px;background:#fff;border-radius:3px}.filter-section{padding:12px;border-top:1px solid var(--color-border, #e0ddd4);display:flex;gap:10px;align-items:flex-start;flex-wrap:wrap}.tag-filters{display:flex;gap:6px;flex-wrap:wrap;max-width:80%}.tag-filter{background:var(--color-bg, #f9f8f5);border-radius:3px;font-size:12px;padding:4px 8px;cursor:pointer;color:var(--color-text, #333333);border:1px solid var(--color-border, #e0ddd4);transition:all .2s ease}.tag-filter:hover{background-color:#edece8;border-color:#d0cec5}.tag-filter.active{background:var(--color-primary, #5677b9);color:#fff;border-color:var(--color-primary, #5677b9)}.details-sidebar{position:absolute;right:0;top:0;font-size:12px;width:400px;height:100%;background:#fff;border-left:1px solid var(--color-border, #e0ddd4);box-sizing:border-box;padding:12px;overflow-y:auto;display:none;box-shadow:-2px 0 5px #00000008}svg{margin-top:6px;overflow:visible}.loading-indicator{display:none;text-align:center;font-size:13px;padding:8px;color:var(--color-text-light, #666666)}.stats-section{display:flex;align-items:center;gap:10px;margin-bottom:6px;font-size:13px;color:var(--color-text-light, #666666)}a{color:var(--color-primary, #5677b9);text-decoration:none;transition:all .2s ease}a:hover{text-decoration:underline}h1 a:hover,h2 a:hover,h3 a:hover{text-decoration:none;border-bottom:none}.section-title{font-weight:600;font-size:14px;margin-bottom:8px;color:var(--color-text, #333333);padding-bottom:6px;border-bottom:1px solid var(--color-border, #e0ddd4)}select,button{font-family:var( --font-sans, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif );font-size:13px;padding:4px 8px;border:1px solid var(--color-border, #e0ddd4);border-radius:3px;background-color:#fff}select:focus,button:focus{outline:none;box-shadow:0 0 0 2px #5677b94d}button{cursor:pointer;transition:all .2s ease}button:hover{background-color:var(--color-bg, #f9f8f5)}</style>
  </head>

  <body>
    <div id="container">
      <h2 style="margin: 4px 0; font-size: 14px">Plomp Buffer Viewer</h2>
      <hr style="margin: 0 0 4px; border: none; border-top: 1px solid #ccc" />
      <div id="stats-section" class="stats-section"></div>
      <div id="app"></div>
    </div>
    <script>
      <!-- insert plomp JSON data here -->
    </script>
  </body>
</html>
