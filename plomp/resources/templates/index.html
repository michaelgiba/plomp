<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plomp Buffer Viewer</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var W,b,me,T,ie,ye,ve,ge,Z,V,G,O={},be=[],Ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function P(e,t){for(var n in t)e[n]=t[n];return e}function K(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Oe(e,t,n){var r,o,i,c={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:c[i]=t[i];if(arguments.length>2&&(c.children=arguments.length>3?W.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)c[i]===void 0&&(c[i]=e.defaultProps[i]);return U(e,c,r,o,null)}function U(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++me,__i:-1,__u:0};return o==null&&b.vnode!=null&&b.vnode(i),i}function B(e){return e.children}function M(e,t){this.props=e,this.context=t}function $(e,t){if(t==null)return e.__?$(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?$(e):null}function Ne(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Ne(e)}}function se(e){(!e.__d&&(e.__d=!0)&&T.push(e)&&!q.__r++||ie!==b.debounceRendering)&&((ie=b.debounceRendering)||ye)(q)}function q(){for(var e,t,n,r,o,i,c,_=1;T.length;)T.length>_&&T.sort(ve),e=T.shift(),_=T.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],c=[],t.__P&&((n=P({},r)).__v=r.__v+1,b.vnode&&b.vnode(n),ee(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??$(r),!!(32&r.__u),c),n.__v=r.__v,n.__.__k[n.__i]=n,Ie(i,n,c),n.__e!=o&&Ne(n)));q.__r=0}function ke(e,t,n,r,o,i,c,_,u,p,h){var s,d,a,f,m,y,v=r&&r.__k||be,g=t.length;for(u=He(n,t,v,u,g),s=0;s<g;s++)(a=n.__k[s])!=null&&(d=a.__i===-1?O:v[a.__i]||O,a.__i=s,y=ee(e,a,d,o,i,c,_,u,p,h),f=a.__e,a.ref&&d.ref!=a.ref&&(d.ref&&te(d.ref,null,a),h.push(a.ref,a.__c||f,a)),m==null&&f!=null&&(m=f),4&a.__u||d.__k===a.__k?u=we(a,u,e):typeof a.type=="function"&&y!==void 0?u=y:f&&(u=f.nextSibling),a.__u&=-7);return n.__e=m,u}function He(e,t,n,r,o){var i,c,_,u,p,h=n.length,s=h,d=0;for(e.__k=new Array(o),i=0;i<o;i++)(c=t[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(u=i+d,(c=e.__k[i]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?U(null,c,null,null,null):J(c)?U(B,{children:c},null,null,null):c.constructor===void 0&&c.__b>0?U(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=e,c.__b=e.__b+1,_=null,(p=c.__i=De(c,n,u,s))!==-1&&(s--,(_=n[p])&&(_.__u|=2)),_==null||_.__v===null?(p==-1&&(o>h?d--:o<h&&d++),typeof c.type!="function"&&(c.__u|=4)):p!=u&&(p==u-1?d--:p==u+1?d++:(p>u?d--:d++,c.__u|=4))):e.__k[i]=null;if(s)for(i=0;i<h;i++)(_=n[i])!=null&&!(2&_.__u)&&(_.__e==r&&(r=$(_)),Pe(_,_));return r}function we(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=we(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=$(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function De(e,t,n,r){var o,i,c=e.key,_=e.type,u=t[n];if(u===null&&e.key==null||u&&c==u.key&&_===u.type&&!(2&u.__u))return n;if(r>(u!=null&&!(2&u.__u)?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((u=t[o])&&!(2&u.__u)&&c==u.key&&_===u.type)return o;o--}if(i<t.length){if((u=t[i])&&!(2&u.__u)&&c==u.key&&_===u.type)return i;i++}}return-1}function oe(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Ee.test(t)?n:n+"px"}function L(e,t,n,r,o){var i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||oe(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||oe(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(ge,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.t=r.t:(n.t=Z,e.addEventListener(t,i?G:V,i)):e.removeEventListener(t,i?G:V,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function le(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.u==null)t.u=Z++;else if(t.u<n.t)return;return n(b.event?b.event(t):t)}}}function ee(e,t,n,r,o,i,c,_,u,p){var h,s,d,a,f,m,y,v,g,S,I,N,A,re,j,x,z,C=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),i=[_=t.__e=n.__e]),(h=b.__b)&&h(t);e:if(typeof C=="function")try{if(v=t.props,g="prototype"in C&&C.prototype.render,S=(h=C.contextType)&&r[h.__c],I=h?S?S.props.value:h.__:r,n.__c?y=(s=t.__c=n.__c).__=s.__E:(g?t.__c=s=new C(v,I):(t.__c=s=new M(v,I),s.constructor=C,s.render=Le),S&&S.sub(s),s.props=v,s.state||(s.state={}),s.context=I,s.__n=r,d=s.__d=!0,s.__h=[],s._sb=[]),g&&s.__s==null&&(s.__s=s.state),g&&C.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=P({},s.__s)),P(s.__s,C.getDerivedStateFromProps(v,s.__s))),a=s.props,f=s.state,s.__v=t,d)g&&C.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),g&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(g&&C.getDerivedStateFromProps==null&&v!==a&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,I),!s.__e&&(s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,I)===!1||t.__v==n.__v)){for(t.__v!=n.__v&&(s.props=v,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(E){E&&(E.__=t)}),N=0;N<s._sb.length;N++)s.__h.push(s._sb[N]);s._sb=[],s.__h.length&&c.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,I),g&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(a,f,m)})}if(s.context=I,s.props=v,s.__P=e,s.__e=!1,A=b.__r,re=0,g){for(s.state=s.__s,s.__d=!1,A&&A(t),h=s.render(s.props,s.state,s.context),j=0;j<s._sb.length;j++)s.__h.push(s._sb[j]);s._sb=[]}else do s.__d=!1,A&&A(t),h=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++re<25);s.state=s.__s,s.getChildContext!=null&&(r=P(P({},r),s.getChildContext())),g&&!d&&s.getSnapshotBeforeUpdate!=null&&(m=s.getSnapshotBeforeUpdate(a,f)),x=h,h!=null&&h.type===B&&h.key==null&&(x=Ce(h.props.children)),_=ke(e,J(x)?x:[x],t,n,r,o,i,c,_,u,p),s.base=t.__e,t.__u&=-161,s.__h.length&&c.push(s),y&&(s.__E=s.__=null)}catch(E){if(t.__v=null,u||i!=null)if(E.then){for(t.__u|=u?160:128;_&&_.nodeType==8&&_.nextSibling;)_=_.nextSibling;i[i.indexOf(_)]=null,t.__e=_}else for(z=i.length;z--;)K(i[z]);else t.__e=n.__e,t.__k=n.__k;b.__e(E,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):_=t.__e=je(n.__e,t,n,r,o,i,c,u,p);return(h=b.diffed)&&h(t),128&t.__u?void 0:_}function Ie(e,t,n){for(var r=0;r<n.length;r++)te(n[r],n[++r],n[++r]);b.__c&&b.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){b.__e(i,o.__v)}})}function Ce(e){return typeof e!="object"||e==null?e:J(e)?e.map(Ce):P({},e)}function je(e,t,n,r,o,i,c,_,u){var p,h,s,d,a,f,m,y=n.props,v=t.props,g=t.type;if(g=="svg"?o="http://www.w3.org/2000/svg":g=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(p=0;p<i.length;p++)if((a=i[p])&&"setAttribute"in a==!!g&&(g?a.localName==g:a.nodeType==3)){e=a,i[p]=null;break}}if(e==null){if(g==null)return document.createTextNode(v);e=document.createElementNS(o,g,v.is&&v),_&&(b.__m&&b.__m(t,i),_=!1),i=null}if(g===null)y===v||_&&e.data===v||(e.data=v);else{if(i=i&&W.call(e.childNodes),y=n.props||O,!_&&i!=null)for(y={},p=0;p<e.attributes.length;p++)y[(a=e.attributes[p]).name]=a.value;for(p in y)if(a=y[p],p!="children"){if(p=="dangerouslySetInnerHTML")s=a;else if(!(p in v)){if(p=="value"&&"defaultValue"in v||p=="checked"&&"defaultChecked"in v)continue;L(e,p,null,a,o)}}for(p in v)a=v[p],p=="children"?d=a:p=="dangerouslySetInnerHTML"?h=a:p=="value"?f=a:p=="checked"?m=a:_&&typeof a!="function"||y[p]===a||L(e,p,a,y[p],o);if(h)_||s&&(h.__html===s.__html||h.__html===e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(s&&(e.innerHTML=""),ke(t.type==="template"?e.content:e,J(d)?d:[d],t,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,c,i?i[0]:n.__k&&$(n,0),_,u),i!=null)for(p=i.length;p--;)K(i[p]);_||(p="value",g=="progress"&&f==null?e.removeAttribute("value"):f!==void 0&&(f!==e[p]||g=="progress"&&!f||g=="option"&&f!==y[p])&&L(e,p,f,y[p],o),p="checked",m!==void 0&&m!==e[p]&&L(e,p,m,y[p],o))}return e}function te(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){b.__e(o,n)}}function Pe(e,t,n){var r,o;if(b.unmount&&b.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||te(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){b.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Pe(r[o],t,n||typeof e.type!="function");n||K(e.__e),e.__c=e.__=e.__e=void 0}function Le(e,t,n){return this.constructor(e,n)}function Ue(e,t,n){var r,o,i,c;t==document&&(t=document.documentElement),b.__&&b.__(e,t),o=(r=!1)?null:t.__k,i=[],c=[],ee(t,e=t.__k=Oe(B,null,[e]),o||O,O,t.namespaceURI,o?null:t.firstChild?W.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,c),Ie(i,e,c)}W=be.slice,b={__e:function(e,t,n,r){for(var o,i,c;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),c=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),c=o.__d),c)return o.__E=o}catch(_){e=_}throw e}},me=0,M.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=P({},this.state),typeof e=="function"&&(e=e(P({},n),this.props)),e&&P(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),se(this))},M.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),se(this))},M.prototype.render=B,T=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ve=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0,ge=/(PointerCapture)$|Capture$/i,Z=0,V=le(!1),G=le(!0);var Me=0;function l(e,t,n,r,o,i){t||(t={});var c,_,u=t;if("ref"in u)for(_ in u={},t)_=="ref"?c=t[_]:u[_]=t[_];var p={type:e,props:u,key:n,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Me,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(c=e.defaultProps))for(_ in c)u[_]===void 0&&(u[_]=c[_]);return b.vnode&&b.vnode(p),p}var H,k,Q,ae,D=0,Se=[],w=b,ce=w.__b,_e=w.__r,de=w.diffed,ue=w.__c,pe=w.unmount,fe=w.__;function ne(e,t){w.__h&&w.__h(k,e,D||t),D=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function R(e){return D=1,Fe(xe,e)}function Fe(e,t,n){var r=ne(H++,2);if(r.t=e,!r.__c&&(r.__=[xe(void 0,t),function(_){var u=r.__N?r.__N[0]:r.__[0],p=r.t(u,_);u!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=k,!k.__f)){var o=function(_,u,p){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(d){return!!d.__c});if(h.every(function(d){return!d.__N}))return!i||i.call(this,_,u,p);var s=r.__c.props!==_;return h.forEach(function(d){if(d.__N){var a=d.__[0];d.__=d.__N,d.__N=void 0,a!==d.__[0]&&(s=!0)}}),i&&i.call(this,_,u,p)||s};k.__f=!0;var i=k.shouldComponentUpdate,c=k.componentWillUpdate;k.componentWillUpdate=function(_,u,p){if(this.__e){var h=i;i=void 0,o(_,u,p),i=h}c&&c.call(this,_,u,p)},k.shouldComponentUpdate=o}return r.__N||r.__}function X(e,t){var n=ne(H++,3);!w.__s&&Ae(n.__H,t)&&(n.__=e,n.u=t,k.__H.__h.push(n))}function Te(e){return D=5,$e(function(){return{current:e}},[])}function $e(e,t){var n=ne(H++,7);return Ae(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function qe(e,t){return D=8,$e(function(){return e},t)}function Re(){for(var e;e=Se.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(F),e.__H.__h.forEach(Y),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(e){k=null,ce&&ce(e)},w.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),fe&&fe(e,t)},w.__r=function(e){_e&&_e(e),H=0;var t=(k=e.__c).__H;t&&(Q===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(F),t.__h.forEach(Y),t.__h=[],H=0)),Q=k},w.diffed=function(e){de&&de(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Se.push(t)!==1&&ae===w.requestAnimationFrame||((ae=w.requestAnimationFrame)||We)(Re)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Q=k=null},w.__c=function(e,t){t.some(function(n){try{n.__h.forEach(F),n.__h=n.__h.filter(function(r){return!r.__||Y(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],w.__e(r,n.__v)}}),ue&&ue(e,t)},w.unmount=function(e){pe&&pe(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{F(r)}catch(o){t=o}}),n.__H=void 0,t&&w.__e(t,n.__v))};var he=typeof requestAnimationFrame=="function";function We(e){var t,n=function(){clearTimeout(r),he&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);he&&(t=requestAnimationFrame(n))}function F(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function Y(e){var t=k;e.__c=e.__(),k=t}function Ae(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function xe(e,t){return typeof t=="function"?t(e):t}function Je({availableTags:e,selectedTypes:t,selectedTags:n,onToggleType:r,onToggleTag:o}){return l("header",{className:"app-header",children:l("div",{className:"filter-controls",children:[l("div",{className:"type-filters",children:[l("h3",{children:"Types:"}),l("div",{className:"filter-options",children:["event","query","prompt"].map(i=>l("label",{className:"filter-option",children:[l("input",{type:"checkbox",checked:t.has(i),onChange:()=>r(i)}),i]},i))})]}),l("div",{className:"tag-filters",children:Object.entries(e).map(([i,c])=>l("div",{className:"tag-filter-group",children:[l("h4",{children:[i,":"]}),l("div",{className:"filter-options",children:Array.from(c).map(_=>{var u;return l("label",{className:"filter-option",children:[l("input",{type:"checkbox",checked:((u=n[i])==null?void 0:u.has(_))||!1,onChange:()=>o(i,_)}),_]},`${i}-${_}`)})})]},i))})]})})}function Be({item:e,index:t,isSelected:n,isCurrent:r,isMatched:o,onSelect:i}){var h;const _=new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});let u="";if(e.type==="event"){const s=e.tags.event_type||"unknown",d=((h=e.data.payload)==null?void 0:h.context)||"";u=`${s}: ${d}`}else e.type==="query"?u=`query: ${e.data.op_name}`||"Query operation":e.type==="prompt"&&(u=`prompt: "${e.data.prompt||""}"`);u.length>80&&(u=u.substring(0,77)+"...");const p=e.type==="prompt"&&!e.data.response&&!e.data.completion&&!e.data.answer;return l("div",{className:`timeline-item ${e.type} ${n?"selected":""} ${r?"current":""} ${o?"matched":""} ${p?"incomplete":""}`,onClick:i,children:[l("div",{className:"item-header",children:[l("div",{className:"item-timestamp",children:_}),l("div",{className:"item-type",children:[e.type,p&&l("span",{className:"incomplete-indicator",children:"•"})]})]}),l("div",{className:"item-summary",children:u})]})}function ze(e,t){const n=r=>{if(r.key!=="ArrowUp"&&r.key!=="ArrowDown")return;const o=e();if(!o.length)return;const i=o.findIndex(_=>_.classList.contains("selected"));let c;r.key==="ArrowUp"?(c=i>0?i-1:0,i===-1&&(c=o.length-1)):(c=i<o.length-1?i+1:o.length-1,i===-1&&(c=0)),c!==i&&(r.preventDefault(),t(c),o[c].scrollIntoView({behavior:"smooth",block:"nearest"}))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}function Qe({items:e,selectedIndex:t,currentIndex:n,matchedIndices:r,onSelectItem:o}){const i=Te(null);return X(()=>ze(()=>i.current?Array.from(i.current.querySelectorAll(".timeline-item")):[],o),[o]),X(()=>{if(t!==null&&i.current){const c=i.current.querySelectorAll(".timeline-item");c[t]&&c[t].scrollIntoView({behavior:"smooth",block:"nearest"})}},[t]),l("div",{className:"timeline-view",ref:i,children:l("div",{className:"timeline-items",children:e.map((c,_)=>l(Be,{item:c,index:_,isSelected:t===_,isCurrent:n===_,isMatched:r.includes(_),onSelect:()=>o(_)},_))})})}function Ve({item:e,allItems:t}){const[n,r]=R(!1);if(!e)return l("div",{className:"detail-sidebar",children:l("div",{className:"no-selection",children:"Select an item to view details"})});const o=new Date(e.timestamp),i=()=>Object.keys(e.tags).length===0?l("div",{className:"detail-empty",children:"No tags"}):l("div",{className:"detail-tags",children:Object.entries(e.tags).map(([s,d])=>l("div",{className:"detail-tag",children:[l("span",{className:"detail-tag-key",children:[s,":"]}),l("span",{className:"detail-tag-value",children:String(d)})]},s))}),c=s=>{var d;if(s.type==="event"){const a=s.tags.event_type||"unknown",f=((d=s.data.payload)==null?void 0:d.message)||"";return`${a}: ${f}`}else{if(s.type==="query")return s.data.op_name||"Query operation";if(s.type==="prompt"){const a=s.tags.model||"unknown",f=s.data.prompt||"";return`${a}: ${f}`}}return"Unknown item"},_=()=>{switch(e.type){case"event":return u();case"query":return p();case"prompt":return h();default:return l("div",{className:"detail-empty",children:"Unknown item type"})}},u=()=>{var f;const s=e.tags.event_type||"Unknown",d=((f=e.data.payload)==null?void 0:f.message)||"",a=e.data.metadata||{};return l("div",{className:"structured-content event-content",children:[l("div",{className:"content-section",children:[l("div",{className:"content-section-title",children:"Event Details"}),l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Event Type"}),l("span",{className:"content-item-value",children:s})]}),d&&l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Message"}),l("span",{className:"content-item-value",children:d})]})]}),Object.keys(a).length>0&&l("div",{className:"content-section",children:[l("div",{className:"content-section-title",children:"Metadata"}),Object.entries(a).map(([m,y])=>l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:m}),l("span",{className:"content-item-value",children:typeof y=="object"?JSON.stringify(y,null,2):String(y)})]},m))]})]})},p=()=>{const s=e.data.op_name||"Unknown Operation",d=e.data.matched_indices||[],a=e.data.parameters||{};return l("div",{className:"structured-content query-content",children:[l("div",{className:"content-section",children:[l("div",{className:"content-section-title",children:"Query Details"}),l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Operation"}),l("span",{className:"content-item-value",children:s})]}),d.length>0&&l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Matched Items"}),l("div",{className:"matched-items-list",children:d.map((f,m)=>{const y=t[f];if(!y)return null;const v=c(y),g=new Date(y.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return l("div",{className:"matched-item",children:[l("div",{className:"matched-item-header",children:[l("span",{className:"matched-item-type",children:y.type}),l("span",{className:"matched-item-time",children:g})]}),l("div",{className:"matched-item-summary",children:v})]},m)})})]})]}),Object.keys(a).length>0&&l("div",{className:"content-section",children:[l("div",{className:"content-section-title",children:"Parameters"}),Object.entries(a).map(([f,m])=>l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:f}),l("span",{className:"content-item-value",children:typeof m=="object"?JSON.stringify(m,null,2):String(m)})]},f))]})]})},h=()=>{var m;const s=e.data.prompt||"";let d="",a="";if(e.data.completion)typeof e.data.completion=="object"&&e.data.completion!==null?(d=e.data.completion.response||"",a=e.data.completion.completion_timestamp||""):d=String(e.data.completion);else if(e.data.response)d=e.data.response;else if(e.data.answer)d=e.data.answer;else if(e.data.content)d=e.data.content;else if(e.data.choices&&e.data.choices.length>0){const y=e.data.choices[0];d=y.text||((m=y.message)==null?void 0:m.content)||y.content||""}const f=d!=="";return l("div",{className:"structured-content prompt-content",children:l("div",{className:"content-section",children:[l("div",{className:"content-section-title",children:["Prompt Details",!f&&l("span",{className:"prompt-status incomplete",children:"Incomplete"}),f&&l("span",{className:"prompt-status complete",children:"Complete"})]}),s&&l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Prompt"}),l("span",{className:"content-item-value prompt-text",children:s})]}),f?l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Completion"}),l("pre",{className:"content-item-value completion-text",children:d})]}):l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Completion"}),l("span",{className:"content-item-value completion-missing",children:"No completion available - the model may still be processing or an error occurred."})]}),a&&l("div",{className:"content-item",children:[l("span",{className:"content-item-label",children:"Completion Time"}),l("span",{className:"content-item-value",children:new Date(a).toLocaleString()})]})]})})};return l("div",{className:"detail-sidebar",children:l("div",{className:"item-details",children:[l("h2",{children:[e.type.charAt(0).toUpperCase()+e.type.slice(1)," Details"]}),l("div",{className:"detail-section",children:[l("h3",{children:"Basic Information"}),l("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Timestamp:"}),l("span",{className:"detail-value",children:o.toLocaleString()})]})]}),l("div",{className:"detail-section",children:[l("h3",{children:"Tags"}),i()]}),l("div",{className:"detail-section",children:[l("h3",{children:"Content"}),_()]}),l("div",{className:"json-toggle",children:l("button",{className:"json-toggle-button",onClick:()=>r(!n),children:n?"Hide Raw JSON":"View Raw JSON"})}),n&&l("div",{className:"json-data-container",children:[l("h3",{children:"Raw JSON Data"}),l("pre",{className:"json-data",children:JSON.stringify(e.data,(s,d)=>{try{return typeof d=="object"&&d!==null&&Object.keys(d).length>100?`[Complex Object with ${Object.keys(d).length} keys]`:d}catch{return"[Error displaying value]"}},2)})]})]})})}class Ge{constructor(t){this.playing=!1,this.intervalId=null,this.speed=t.speed,this.onAdvance=t.onAdvance,this.getItemCount=t.getItemCount,this.getCurrentIndex=t.getCurrentIndex,typeof this.onAdvance!="function"&&(console.error("PlaybackController: onAdvance is not a function",this.onAdvance),this.onAdvance=null),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.toggle=this.toggle.bind(this),this.reset=this.reset.bind(this),this.setSpeed=this.setSpeed.bind(this),this.dispose=this.dispose.bind(this)}start(){if(this.playing||!this.onAdvance)return;this.playing=!0;const t=1e3/this.speed;this.intervalId=window.setInterval(()=>{try{const n=this.getCurrentIndex(),r=this.getItemCount();if(typeof n!="number"||isNaN(n)){console.error("PlaybackController: getCurrentIndex returned invalid value:",n),this.stop();return}if(typeof r!="number"||isNaN(r)||r<=0){console.error("PlaybackController: getItemCount returned invalid value:",r),this.stop();return}if(n>=r-1){this.stop();return}const o=Math.min(n+1,r-1);typeof this.onAdvance=="function"?this.onAdvance(o):(console.error("PlaybackController: onAdvance is not a function"),this.stop())}catch(n){console.error("Error in PlaybackController interval:",n),this.stop()}},t)}stop(){this.playing&&(this.playing=!1,this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null))}toggle(){this.playing?this.stop():this.start()}isPlaying(){return this.playing}setSpeed(t){this.speed=t,this.playing&&(this.stop(),this.start())}reset(){if(this.stop(),this.onAdvance)try{this.onAdvance(0)}catch(t){console.error("Error in PlaybackController.reset:",t)}else console.error("Cannot reset: onAdvance callback is missing")}dispose(){this.stop(),this.onAdvance=null}}function Xe({isPlaying:e=!1,onPlayPause:t,onStepForward:n,onStepBackward:r,canStepForward:o=!0,canStepBackward:i=!0,itemCount:c=0,currentIndex:_=0,onChangeIndex:u}){const[p,h]=R(!1),[s,d]=R(1),a=Te(null),f=t?e:p,m=qe(N=>{if(typeof N!="number"||isNaN(N)){console.error("Invalid index received:",N);return}console.log("Advancing to valid index:",N),typeof u=="function"?u(N):N>_&&typeof n=="function"?n():N<_&&typeof r=="function"?r():console.warn("No valid callback function for index change")},[u,n,r,_]);X(()=>{a.current&&a.current.dispose();const N=new Ge({speed:s,onAdvance:m,getItemCount:()=>typeof c=="number"?c:0,getCurrentIndex:()=>typeof _=="number"?_:0});return a.current=N,f&&N.start(),()=>{N.dispose()}},[m,c,_,s,f]);const y=()=>{typeof t=="function"?t():a.current&&(a.current.toggle(),h(a.current.isPlaying()))},v=()=>{if(a.current&&a.current.stop(),typeof t=="function"&&f?t():h(!1),typeof u=="function")u(0);else if(typeof r=="function"&&_>0)for(let N=0;N<_;N++)r()},g=()=>{typeof n=="function"?n():typeof u=="function"&&_<c-1&&u(_+1)},S=()=>{typeof r=="function"?r():typeof u=="function"&&_>0&&u(_-1)},I=N=>{d(N)};return l("div",{className:"playback-controls",children:[l("button",{className:"control-button",onClick:v,title:"Reset to beginning",children:"⏮️"}),l("button",{className:"control-button",onClick:S,disabled:!i,title:"Previous item",children:"⏪"}),l("button",{className:"control-button play-pause",onClick:y,title:f?"Pause":"Play",children:f?"⏸️ Pause":"▶️ Play"}),l("button",{className:"control-button",onClick:g,disabled:!o,title:"Next item",children:"⏩"}),l("div",{className:"speed-control",children:[l("span",{children:"Speed:"}),l("select",{value:s,onChange:N=>I(Number(N.target.value)),children:[l("option",{value:"0.5",children:"0.5×"}),l("option",{value:"1",children:"1×"}),l("option",{value:"2",children:"2×"}),l("option",{value:"4",children:"4×"})]})]}),l("div",{className:"playback-progress",children:[_+1," / ",c]})]})}function Ye(){var s;const[e,t]=R({items:((s=window.__PLOMP_BUFFER_JSON__)==null?void 0:s.buffer_items)||[],selectedItemIndex:null,matchedIndices:[],filters:{types:new Set(["event","query","prompt"]),tags:{}},playback:{isPlaying:!1,speed:1,currentIndex:0}}),n=d=>{const a=e.items[d];let f=[];a&&a.type==="query"&&a.data&&a.data.matched_indices&&(f=Array.isArray(a.data.matched_indices)?a.data.matched_indices:[]),t(m=>({...m,selectedItemIndex:d,matchedIndices:f,playback:{...m.playback,currentIndex:d}}))},r=e.items.filter(d=>{if(!e.filters.types.has(d.type))return!1;for(const[a,f]of Object.entries(e.filters.tags)){if(f.size===0)continue;if(!d.tags[a])return!1;const m=d.tags[a],y=Array.from(f);if(Array.isArray(m)){if(!m.some(v=>y.includes(v)))return!1}else if(!y.includes(m))return!1}return!0}),o=d=>{t(a=>{const f=new Set(a.filters.types);return f.has(d)?f.delete(d):f.add(d),{...a,filters:{...a.filters,types:f}}})},i=(d,a)=>{t(f=>{const m={...f.filters.tags};if(!m[d])m[d]=new Set([a]);else{const y=new Set(m[d]);y.has(a)?y.delete(a):y.add(a),m[d]=y}return{...f,filters:{...f.filters,tags:m}}})},c=()=>{t(d=>({...d,playback:{...d.playback,isPlaying:!d.playback.isPlaying}}))},_=()=>{if(e.playback.currentIndex<r.length-1){const d=e.playback.currentIndex+1;t(a=>({...a,selectedItemIndex:d,playback:{...a.playback,currentIndex:d}}))}},u=()=>{if(e.playback.currentIndex>0){const d=e.playback.currentIndex-1;t(a=>({...a,selectedItemIndex:d,playback:{...a.playback,currentIndex:d}}))}},p=d=>{t(a=>({...a,selectedItemIndex:d,playback:{...a.playback,currentIndex:d}}))},h={};return e.items.forEach(d=>{Object.entries(d.tags).forEach(([a,f])=>{h[a]||(h[a]=new Set),Array.isArray(f)?f.forEach(m=>h[a].add(m)):h[a].add(f)})}),l("div",{className:"app-container",children:[l(Je,{availableTags:h,selectedTypes:e.filters.types,selectedTags:e.filters.tags,onToggleType:o,onToggleTag:i}),l("div",{className:"main-content",children:[l(Xe,{isPlaying:e.playback.isPlaying,onPlayPause:c,onStepForward:_,onStepBackward:u,canStepForward:e.playback.currentIndex<r.length-1,canStepBackward:e.playback.currentIndex>0,itemCount:r.length,currentIndex:e.playback.currentIndex,onChangeIndex:p}),l("div",{className:"content-area",children:[l(Qe,{items:r,selectedIndex:e.selectedItemIndex,currentIndex:e.playback.currentIndex,matchedIndices:e.matchedIndices,onSelectItem:n}),l(Ve,{item:e.selectedItemIndex!==null?e.items[e.selectedItemIndex]:null,allItems:e.items})]})]})]})}Ue(l(Ye,{}),document.getElementById("app"));
//# sourceMappingURL=index-B7v0H0sf.js.map</script>
    <style rel="stylesheet" crossorigin>:root{--color-bg: #f8f6f2;--color-text: #4a4a4a;--color-primary: #6b8cce;--color-secondary: #7ab39a;--color-event: #c4a9d9;--color-query: #e3b0a9;--color-prompt: #f0d2a0;--color-border: #e5e1d8;--color-sidebar-bg: #fdfcfa;--color-matched: #b5cb9e;--border-radius: 4px}body,html{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background-color:var(--color-bg);color:var(--color-text)}.app-container{display:flex;flex-direction:column;height:100vh;max-width:1600px;margin:0 auto}.app-header{padding:.25rem;background-color:#fff;border-bottom:1px solid var(--color-border);display:flex;align-items:center;box-shadow:0 1px 3px #0000000d}.app-header h1{margin:0;font-size:1rem;flex:0 0 auto;margin-right:1rem}.filter-controls{display:flex;flex-wrap:wrap;gap:.25rem;flex:1}.type-filters,.tag-filters{display:flex;align-items:center;gap:.25rem;min-width:0}.filter-controls h3{margin:0;font-size:.75rem;white-space:nowrap}.filter-controls h4{margin:0;font-size:.7rem;display:inline-block;margin-right:.25rem}.filter-options{display:flex;flex-wrap:wrap;gap:.2rem}.filter-option{display:flex;align-items:center;gap:.1rem;background-color:#f0f0f0;padding:.05rem .2rem;border-radius:var(--border-radius);font-size:.7rem;color:#333}.tag-filter-group{display:flex;align-items:center;margin-bottom:0;margin-right:.5rem}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden}.content-area{display:flex;flex:1;overflow:hidden}.playback-controls{display:flex;justify-content:center;align-items:center;padding:.5rem;background-color:#fff;border-bottom:1px solid var(--color-border);gap:.5rem}.control-button{padding:.25rem .5rem;border:1px solid var(--color-border);background-color:#fff;border-radius:var(--border-radius);cursor:pointer;font-size:.8rem;min-width:2rem;display:flex;align-items:center;justify-content:center}.control-button:hover:not(:disabled){background-color:var(--color-bg)}.control-button:disabled{opacity:.5;cursor:not-allowed}.control-button.play-pause{width:6rem;font-weight:700;display:flex;justify-content:center;gap:.25rem}.speed-control{display:flex;align-items:center;gap:.25rem;font-size:.8rem}.speed-control select{padding:.15rem .25rem;border:1px solid var(--color-border);border-radius:var(--border-radius);background-color:#fff;font-size:.8rem}.playback-progress{font-size:.8rem;color:var(--color-text);margin-left:.5rem;padding:.2rem .4rem;background-color:var(--color-bg);border-radius:var(--border-radius)}.timeline-view{flex:2;overflow-y:auto;padding:.25rem;font-size:.75rem;background-color:var(--color-bg)}.timeline-items{display:flex;flex-direction:column;gap:.3rem}.timeline-item{border-radius:var(--border-radius);border-left:10px solid gray;padding:.15rem .25rem;cursor:pointer;transition:box-shadow .2s ease;display:flex;flex-direction:column;box-shadow:0 1px 2px #0000000d;background-color:#fff;margin-bottom:2px}.timeline-item:hover{box-shadow:0 2px 4px #0000001a}.timeline-item.event{border-left-color:var(--color-event);background-color:var(--color-sidebar-bg)}.timeline-item.query{border-left-color:var(--color-query);background-color:var(--color-sidebar-bg)}.timeline-item.prompt{border-left-color:var(--color-prompt);background-color:var(--color-sidebar-bg)}.timeline-item.selected{box-shadow:0 0 0 2px var(--color-primary)}.timeline-item.current{background-color:#e8f4ef}.timeline-item.matched{border-left-color:var(--color-bg);box-shadow:0 0 0 2px var(--color-matched);border-left-width:14px;background-color:var(--color-matched);position:relative}.timeline-item.matched:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;border-radius:var(--border-radius)}.item-header{display:flex;justify-content:space-between;margin-bottom:.1rem;align-items:center}.item-timestamp{font-size:.7rem;color:#666}.item-type{font-size:.7rem;font-weight:700;padding:.05rem .2rem;border-radius:2px}.event .item-type,.query .item-type,.prompt .item-type{color:var(--color-bg)}.item-summary{font-size:.75rem;margin-bottom:.15rem;line-height:1.1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#333}.item-tags{display:flex;flex-wrap:wrap;gap:.15rem}.tag{font-size:.65rem;padding:.05rem .15rem;background-color:#f0f0f0;border-radius:2px;color:#555}.detail-sidebar{flex:1;background-color:var(--color-sidebar-bg);border-left:1px solid var(--color-border);padding:1rem;overflow-y:auto}.matched-items-list{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.matched-item{background-color:var(--color-sidebar-bg);border-left:3px solid var(--color-matched);padding:.5rem;border-radius:var(--border-radius);font-size:.8rem}.matched-item-header{display:flex;justify-content:space-between;margin-bottom:.25rem}.matched-item-type{font-weight:700;color:var(--color-text);background-color:var(--color-bg);padding:.1rem .3rem;border-radius:2px;font-size:.7rem}.matched-item-time{color:var(--color-text-light, #666);font-size:.7rem}.matched-item-summary{font-size:.75rem;color:var(--color-text);line-height:1.3}.detail-tags{display:flex;flex-wrap:wrap;gap:.4rem;margin-bottom:1rem}.detail-tag{background-color:var(--color-bg);border-radius:12px;padding:.2rem .6rem;font-size:.8rem;display:flex;align-items:center;border:1px solid var(--color-border)}.detail-tag-key{font-weight:700;margin-right:.3rem;color:var(--color-text)}.detail-tag-value{color:var(--color-text)}.structured-content,.content-section{margin-bottom:1rem}.content-section-title{font-size:.9rem;font-weight:700;margin-bottom:.5rem;color:var(--color-text)}.content-item{margin-bottom:.5rem;line-height:1.4}.content-item-label{font-weight:700;display:block;font-size:.8rem;color:var(--color-text-light, #666)}.content-item-value{font-size:.9rem;display:block;word-wrap:break-word}.json-toggle{display:flex;align-items:center;margin:1rem 0}.json-toggle-button{background-color:var(--color-bg);border:1px solid var(--color-border);padding:.3rem .8rem;border-radius:var(--border-radius);font-size:.8rem;cursor:pointer;display:flex;align-items:center;gap:.3rem}.json-toggle-button:hover{background-color:#f0f0f0}.event-content .content-item-value{background-color:var(--color-event-bg, #f5eeff);padding:.5rem;border-radius:var(--border-radius);border-left:3px solid var(--color-event)}.query-content .content-item-value{background-color:var(--color-query-bg, #fff0f0);padding:.5rem;border-radius:var(--border-radius);border-left:3px solid var(--color-query)}.prompt-content .content-item-value{background-color:var(--color-prompt-bg, #fffaed);padding:.5rem;border-radius:var(--border-radius);border-left:3px solid var(--color-prompt)}.json-data-container{margin-top:1rem}.no-selection{display:flex;height:100%;align-items:center;justify-content:center;color:#999}.item-details h2{margin-top:0;font-size:1.2rem}.detail-section{margin-bottom:1.5rem}.detail-section h3{margin:0 0 .5rem;font-size:1rem;padding-bottom:.25rem;border-bottom:1px solid var(--color-border)}.detail-row{display:flex;margin-bottom:.25rem}.detail-label{flex:0 0 100px;font-weight:700;font-size:.9rem}.detail-value{flex:1;font-size:.9rem}.detail-empty{font-style:italic;color:#777;font-size:.9rem}.json-data{background-color:#f8f8f8;padding:.5rem;border-radius:var(--border-radius);overflow:auto;font-size:.8rem;max-height:300px;color:#333;border:1px solid #e5e5e5}.completion-text{white-space:pre-wrap;word-break:break-word;max-height:300px;overflow-y:auto;background-color:var(--color-prompt-bg, #fffaed);border-radius:var(--border-radius);padding:.5rem}.prompt-status{font-size:.7rem;padding:.2rem .4rem;margin-left:.5rem;border-radius:3px}.prompt-status.complete{background-color:var(--color-secondary);color:#fff}.prompt-status.incomplete{background-color:var(--color-query);color:#fff}.completion-missing{font-style:italic;color:#777}body{margin:0;font-family:sans-serif;background-color:var(--color-bg, #f8f8f8);color:var(--color-text, #333333);font-size:14px}#container{margin:0 auto;padding:8px;width:100%;max-width:1200px}.controls{display:flex;align-items:center;gap:6px;padding:4px;border-bottom:1px solid #e0e0e0;background-color:#fff}.data-view{min-height:400px;border:1px solid #e0e0e0;overflow:auto;padding:8px;position:relative;background-color:#fff}#timeline-view{position:relative;max-height:600px;overflow-y:auto}.timeline-item{cursor:pointer}.timeline-tooltip{position:absolute;background-color:#fff;border:1px solid #e0e0e0;border-radius:3px;padding:4px 6px;font-size:12px;pointer-events:none;max-width:300px;box-shadow:0 2px 4px #0000001a;display:none;color:#333}.timeline-tooltip pre{margin:4px 0;max-height:150px;overflow:auto}.timeline-details{margin-top:8px;border:1px solid #ccc;padding:8px;background:#fff}.filter-section{padding:8px;border-top:1px solid #ccc;display:flex;gap:8px;align-items:flex-start;flex-wrap:wrap}.tag-filters{display:flex;gap:4px;flex-wrap:wrap;max-width:80%}.tag-filter{background:var(--color-bg, #f8f8f8);border-radius:3px;font-size:12px;padding:2px 6px;cursor:pointer;color:var(--color-text, #333333)}.tag-filter.active{background:var(--color-primary, #4a6fe3);color:var(--color-white, #ffffff)}.details-sidebar{position:absolute;right:0;top:0;font-size:10px;width:400px;height:100%;background:#fff;border-left:1px solid #ccc;box-sizing:border-box;padding:8px;overflow-y:auto;display:none}svg{margin-top:4px}.loading-indicator{display:none;text-align:center;font-size:12px;padding:6px;color:#444}.stats-section{display:flex;align-items:center;gap:8px;margin-bottom:4px}</style>
  </head>

  <body>
    <div id="container">
      <h2 style="margin: 4px 0; font-size: 14px">Plomp Buffer Viewer</h2>
      <hr style="margin: 0 0 4px; border: none; border-top: 1px solid #ccc" />
      <div id="stats-section" class="stats-section"></div>
      <div id="app"></div>
    </div>
    <script>
      <!-- insert plomp JSON data here -->
    </script>
  </body>
</html>
